<% if flash[:alert] %>
  <div class="mb-4 p-3 rounded bg-red-100 text-red-700 border border-red-300 flex items-center gap-2">
    <i class="fa fa-exclamation-circle"></i>
    <%= flash[:alert] %>
  </div>
<% end %>
<% if flash[:notice] %>
  <div class="mb-4 p-3 rounded bg-green-100 text-green-700 border border-green-300 flex items-center gap-2">
    <i class="fa fa-circle-check"></i>
    <%= flash[:notice] %>
  </div>
<% end %>
<div class="flex min-h-screen overflow-x-hidden bg-purple-100">
  <div class="bg-gradient-to-b from-blue-400 to-purple-200 p-6 text-white w-80">
    <h2 class="text-center text-2xl font-bold mb-6">Article Management</h2>
    <nav class="space-y-3">
      <%= link_to admin_articles_path,
        class: "flex items-center justify-between bg-white/10 rounded-2xl px-4 py-3 hover:bg-white/20 transition" do %>
        <div class="flex items-center space-x-3">
          <span class="w-2 h-2 rounded-full bg-blue-400"></span>
          <i class="fas fa-list"></i>
          <span>All Articles</span>
        </div>
      <% end %>
      <%= link_to admin_articles_path(status: :draft),
        class: "flex items-center justify-between bg-white/10 rounded-2xl px-4 py-3 hover:bg-white/20 transition" do %>
        <div class="flex items-center space-x-3">
          <span class="w-2 h-2 rounded-full bg-yellow-400"></span>
          <i class="fas fa-edit"></i>
          <span>Draft</span>
        </div>
        <div>
          <span class="ml-auto bg-yellow-100 text-yellow-800 text-sm font-semibold px-3 py-1 rounded-full"><%= @draft_articles.count %></span>
        </div>
      <% end %>
      <%= link_to admin_articles_path(status: :waiting),
        class: "flex items-center justify-between bg-white/10 rounded-2xl px-4 py-3 hover:bg-white/20 transition" do %>
        <div class="flex items-center space-x-3">
          <span class="w-2 h-2 rounded-full bg-orange-400"></span>
          <i class="fas fa-clock"></i>
          <span>Waiting for Review</span>
        </div>
        <div>
          <span class="ml-auto bg-orange-100 text-orange-800 text-sm font-semibold px-3 py-1 rounded-full"><%= @waiting_articles.count %></span>
        </div>
      <% end %>
      <%= link_to admin_articles_path(status: :published),
        class: "flex items-center justify-between bg-white/10 rounded-2xl px-4 py-3 hover:bg-white/20 transition" do %>
        <div class="flex items-center space-x-3">
          <span class="w-2 h-2 rounded-full bg-green-400"></span>
          <i class="fas fa-globe"></i>
          <span>Published</span>
        </div>
        <div>
          <span class="ml-auto bg-green-100 text-green-800 text-sm font-semibold px-3 py-1 rounded-full"><%= @published_articles.count %></span>
        </div>
      <% end %>
    </nav>
  </div>
  <main class="flex-1 p-8 bg-gradient-to-b from-blue-50 to-purple-50 min-h-screen">
    <h1 class="text-3xl font-extrabold bg-gradient-to-r from-blue-500 via-purple-400 to-pink-500 bg-clip-text text-transparent mb-8 flex items-center gap-3">
      <span class="flex items-center justify-center w-10 h-10 bg-purple-100 rounded-full">
        <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 text-purple-500" fill="none"
         viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
          <path stroke-linecap="round" stroke-linejoin="round" d="M11.983 2.25c-.505 0-.987.27-1.244.713l-.9 1.559a7.97 7.97 0 00-1.437.83l-1.73-.3a1.25 1.25 0 00-1.436.905l-.41 1.8c-.267.11-.525.24-.772.39l-1.51-1.09a1.25 1.25 0 00-1.57.163l-1.28 1.28a1.25 1.25 0 00.163 1.57l1.09 1.51c-.15.247-.28.505-.39.772l-1.8.41a1.25 1.25 0 00-.905 1.436l.3 1.73c-.3.462-.56.94-.83 1.437l-1.559.9A1.25 1.25 0 002.25 12c0 .505.27.987.713 1.244l1.559.9c.27.497.53.975.83 1.437l-.3 1.73a1.25 1.25 0 00.905 1.436l1.8.41c.11.267.24.525.39.772l-1.09 1.51a1.25 1.25 0 00.163 1.57l1.28 1.28a1.25 1.25 0 001.57.163l1.51-1.09c.247.15.505.28.772.39l.41 1.8a1.25 1.25 0 001.436.905l1.73-.3c.462.3.94.56 1.437.83l.9 1.559A1.25 1.25 0 0012 21.75c.505 0 .987-.27 1.244-.713l.9-1.559c.497-.27.975-.53 1.437-.83l1.73.3a1.25 1.25 0 001.436-.905l.41-1.8c.267-.11.525-.24.772-.39l1.51 1.09a1.25 1.25 0 001.57-.163l1.28-1.28a1.25 1.25 0 00-.163-1.57l-1.09-1.51c.15-.247.28-.505.39-.772l1.8-.41a1.25 1.25 0 00.905-1.436l-.3-1.73c.3-.462.56-.94.83-1.437l1.559-.9A1.25 1.25 0 0021.75 12c0-.505-.27-.987-.713-1.244l-1.559-.9a7.97 7.97 0 00-.83-1.437l.3-1.73a1.25 1.25 0 00-.905-1.436l-1.8-.41a7.91 7.91 0 00-.772-.39l1.09-1.51a1.25 1.25 0 00-.163-1.57l-1.28-1.28a1.25 1.25 0 00-1.57-.163l-1.51 1.09a7.91 7.91 0 00-.772-.39l-.41-1.8a1.25 1.25 0 00-1.436-.905l-1.73.3a7.97 7.97 0 00-1.437-.83l-.9-1.559A1.25 1.25 0 0012 2.25z" />
          <circle cx="12" cy="12" r="3" />
        </svg>
      </span>
      Admin Panel Â· Manage Articles
    </h1>
    <div class="h-1 w-40 bg-gradient-to-r from-blue-400 to-purple-200 rounded-full mb-8"></div>
    <!-- Draft Section -->
    <% if params[:status].blank? || params[:status] == 'draft' %>
      <div class="mb-12 bg-white/70 backdrop-blur-sm rounded-3xl p-6 shadow-lg">
        <h2 class="flex items-center gap-3 text-xl font-bold text-gray-800 mb-5">
          <span class="w-3 h-3 rounded-full bg-yellow-400"></span>
          Draft
          <span class="ml-auto bg-yellow-100 text-yellow-800 text-sm font-semibold px-3 py-1 rounded-full"><%= @draft_articles.count %></span>
        </h2>
        <div class="bg-white/40 rounded-2xl p-6">
          <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-7">
            <% @draft_articles.each do |article| %>
              <%= render partial: "admin/articles/partials/card", locals: { article: article } %>
            <% end %>
            <% if @draft_articles.blank? %>
              <div class="col-span-full text-center py-10 text-gray-400 italic bg-white rounded-lg shadow-sm">
                No draft articles.
              </div>
            <% end %>
          </div>
        </div>
      </div>
    <% end %>
    <% if params[:status].blank? || params[:status] == 'waiting' %>
      <div class="mb-12 bg-white/70 backdrop-blur-sm rounded-3xl p-6 shadow-lg">
        <h2 class="flex items-center gap-3 text-xl font-bold text-gray-800 mb-5">
          <span class="w-3 h-3 rounded-full bg-orange-400"></span>
          Waiting for Review
          <span class="ml-auto bg-orange-100 text-orange-800 text-sm font-semibold px-3 py-1 rounded-full"><%= @waiting_articles.count %></span>
        </h2>
        <div class="bg-white/40 rounded-2xl p-6">
          <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-7">
            <% @waiting_articles.each do |article| %>
              <%= render partial: "admin/articles/partials/card", locals: { article: article } %>
            <% end %>
            <% if @waiting_articles.blank? %>
              <div class="col-span-full text-center py-10 text-gray-500 italic bg-white rounded-lg shadow-sm">
                No articles waiting for review.
              </div>
            <% end %>
          </div>
        </div>
      </div>
    <% end %>
    <% if params[:status].blank? || params[:status] == 'published' %>
      <div class="mb-12 bg-white/70 backdrop-blur-sm rounded-3xl p-6 shadow-lg">
        <h2 class="flex items-center gap-3 text-xl font-bold text-gray-800 mb-5">
          <span class="w-3 h-3 rounded-full bg-green-400"></span>
          Published
          <span class="ml-auto bg-green-100 text-green-800 text-sm font-semibold px-3 py-1 rounded-full"><%= @published_articles.count %></span>
        </h2>
        <div class="bg-white/40 rounded-2xl p-6">
          <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-7">
            <% @published_articles.each do |article| %>
              <%= render partial: "admin/articles/partials/card", locals: { article: article } %>
            <% end %>
            <% if @published_articles.blank? %>
              <div class="col-span-full text-center py-10 text-gray-500 italic bg-white rounded-lg shadow-sm">
                No published articles.
              </div>
            <% end %>
          </div>
        </div>
      </div>
    <% end %>
  </main>
  <%= link_to new_admin_article_path,
    class: "fixed bottom-6 right-6 flex items-center gap-3 bg-gradient-to-r from-blue-400 to-purple-500 hover:from-blue-500 hover:to-purple-500 text-white rounded-full pl-5 pr-6 py-4 shadow-lg transition transform hover:scale-105 hover:shadow-xl" do %>
    <div class="flex items-center justify-center w-10 h-10 bg-white/20 rounded-full">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none"
        viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
        <path stroke-linecap="round" stroke-linejoin="round" d="M12 4v16m8-8H4"/>
      </svg>
    </div>
    <span class="font-semibold">Create Article</span>
  <% end %>
</div>
